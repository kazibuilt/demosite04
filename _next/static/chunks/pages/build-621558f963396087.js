(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5881],{4907:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/build",function(){return n(4164)}])},4164:function(e,t,n){"use strict";n.r(t),n.d(t,{__N_SSP:function(){return e3},default:function(){return e9}});var r=n(5893),i=n(7294),o=n(9706),a=n.n(o),s=n(2592),l=n.n(s),c=n(5851);function u(e){let{title:t,text:n}=e;return(0,r.jsxs)("section",{className:l().container,children:[(0,r.jsxs)("svg",{viewBox:"0 0 25 22",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,r.jsx)("path",{d:"M18.184 6.72867C16.5381 7.87183 14.5998 8.53698 12.5894 8.6485H12.4572C10.431 8.52934 8.47829 7.85774 6.81681 6.70862C5.53006 5.87653 3.86186 4.62338 4.00935 2.87398C4.11107 1.67095 5.43852 1.07947 6.43029 0.77871C6.84734 0.653395 7.26946 0.548128 7.6916 0.462913C10.6979 -0.118554 13.7869 -0.152531 16.8057 0.362663H16.8464C17.3092 0.447877 17.772 0.548129 18.2399 0.668432L18.6265 0.77871C19.6182 1.07947 20.9457 1.67095 21.0474 2.87398C21.2 4.62338 19.4351 5.88154 18.1484 6.72867H18.184Z",fill:"#575349"}),(0,r.jsx)("path",{d:"M5.47042 7.88106C7.38065 8.67344 9.03911 9.95821 10.2716 11.6004L10.3072 11.6505L10.3479 11.7107C11.3905 13.3398 11.6601 15.41 11.6702 17.3549C11.6702 18.8837 11.3905 21.0742 10.002 21.8061C8.92889 22.3625 7.71334 21.5955 6.91993 20.9289C6.58934 20.6532 6.26892 20.3574 5.96376 20.0517C3.82406 17.8515 2.10153 15.2914 0.877773 12.4927V12.4576C0.694677 12.0265 0.521754 11.5854 0.369174 11.1292C0.328486 11.0039 0.287808 10.8736 0.252207 10.7433C-0.0427805 9.74074 -0.256399 8.32217 0.674336 7.57529C2.05772 6.48755 4.09212 7.26451 5.49586 7.88106H5.47042Z",fill:"#575349"}),(0,r.jsx)("path",{d:"M19.5308 7.8835C17.6183 8.67447 15.9579 9.95942 14.7245 11.6029L14.689 11.653L14.6483 11.7131C13.6056 13.3422 13.3361 15.4124 13.3259 17.3573C13.3259 18.8862 13.6056 21.0767 14.9941 21.8085C16.0672 22.3649 17.2828 21.598 18.0762 20.9313C18.4068 20.6556 18.7272 20.3599 19.0324 20.0541C21.174 17.8555 22.8967 15.295 24.1184 12.4951V12.46C24.3015 12.0289 24.4744 11.5878 24.627 11.1317L24.749 10.7457C25.044 9.74318 25.2576 8.32461 24.3218 7.57773C22.9384 6.49 20.904 7.26695 19.5054 7.8835H19.5308Z",fill:"#575349"})]}),(0,r.jsx)("h1",{children:t}),n.match({None:()=>null,Some:e=>(0,r.jsx)(c.Z,{content:e})})]})}var d=n(3589),m=n.n(d),p=n(6858),h=n(5531),C=n(6546),_=n.n(C);function x(e){let{title:t,children:n,cta:o,index:a}=e,s=(0,i.useRef)(null),l=(0,p.N2)();return(0,h.V)(()=>(_().create({trigger:s.current,start:"top center",end:"bottom center",onEnter:()=>l.setCurrentConfiguratorSection(a),onEnterBack:()=>l.setCurrentConfiguratorSection(a)}),()=>_().killAll())),(0,i.useEffect)(()=>{let e=()=>l.setCurrentConfiguratorSection(a);return s.current&&s.current.addEventListener("mouseenter",e),()=>s.current&&s.current.removeEventListener("mouseenter",e)},[s.current]),(0,r.jsxs)("section",{className:m().container,ref:s,children:[(0,r.jsxs)("div",{className:m().titleContainer,children:[(0,r.jsx)("h2",{children:t}),o?(0,r.jsx)("div",{className:m().cta,children:o}):null]}),n]})}var f=n(7613),g=n.n(f),v=n(1546),y=n(9999),b=n.n(y),j=n(8964);function N(e){let{isLoading:t}=e,n=(0,p._$)(),{customerAccount:i}=(0,v.S)();return(0,r.jsx)("div",{className:b().buttonsContainer,children:(0,r.jsx)("button",{type:"submit",form:n,className:b().checkoutAndOrderButton,disabled:t,children:(0,j.EQ)(n).with("configuration",()=>"Continue to summary").with("summary",()=>"Continue to checkout").with("customer-infos",()=>(0,j.EQ)(i).with(j.P.nullish,()=>"Continue to payment").when(e=>e.attributes.legacy&&!e.attributes.completedLegacyFlow,()=>"Place order").otherwise(()=>"Continue to payment")).with("payment",()=>"Place order").exhaustive()})})}function w(e){let{onRefundOverlayOpen:t,isLoading:n}=e,{customerAccount:i}=(0,v.S)();return(0,r.jsxs)("div",{className:g().container,children:[(0,r.jsxs)("div",{className:g().infosContainer,children:[(0,r.jsx)("div",{className:g().infosProd,children:(0,r.jsxs)("div",{children:[(0,r.jsx)("button",{type:"button",onClick:t,children:(0,r.jsxs)("svg",{className:g().infoDeliveryCTA,viewBox:"0 0 21 21",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,r.jsx)("circle",{opacity:"0.15",cx:"10.502",cy:"10.502",r:"9.50195",stroke:"#575349"}),(0,r.jsx)("path",{d:"M11.2376 7.33C11.2376 7.66 10.9676 7.94 10.6276 7.94C10.2976 7.94 10.0276 7.66 10.0276 7.33C10.0276 6.99 10.2976 6.72 10.6276 6.72C10.9676 6.72 11.2376 6.99 11.2376 7.33ZM11.0476 8.94V14H10.2176V8.94H11.0476Z",fill:"#575349"})]})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{children:"Fully refundable"}),(0,r.jsx)("span",{children:"Amount due today"})]})]})}),(0,r.jsx)("span",{className:g().price,children:(0,j.EQ)(i).with(j.P.nullish,()=>"$500").with({attributes:{legacy:!0,completedLegacyFlow:!1}},()=>"$0").otherwise(()=>"$500")})]}),(0,r.jsx)(N,{isLoading:n})]})}var S=n(5684),k=n.n(S),P=n(1434),L=n(2169),E=n(6898),O=n.n(E);function T(e){let{label:t,checked:n,onChange:o,description:a,price:s,disabled:l,value:c,optionIndex:u}=e,d="customer-portal-checkbox-".concat((0,i.useId)()),m=(0,p.N2)(),h=(0,i.useCallback)(e=>{n&&window.dispatchEvent(new CustomEvent("box-unchecked",{detail:{optionIndex:u}})),o(e)},[n]);return(0,r.jsxs)("div",{className:O().container,style:{backgroundColor:"".concat(l?"#F2F1EF":"#FDFDFD")},onClick:()=>null!==u&&m.setCurrentSelectedOption(u),children:[(0,r.jsxs)("label",{className:O().mainCheckbox,children:[(0,r.jsx)("input",{type:"checkbox",id:d,checked:n,onChange:h,disabled:l,value:c}),(0,r.jsx)("span",{className:O().checkboxContainer})]}),(0,r.jsx)("label",{htmlFor:d,className:O().label,children:t}),(0,r.jsx)("span",{className:O().price,children:s}),(0,r.jsx)("p",{className:O().description,children:a})]})}function I(e){let{name:t,value:n,onChange:o,options:a}=e;return(0,r.jsx)(L.Ee,{name:t,value:n,onChange:o,style:{display:"grid",gap:"1em"},children:a.map(e=>(0,r.jsx)(L.Y8,{value:e.value,as:i.Fragment,children:t=>{let{checked:n,disabled:i}=t;return(0,r.jsx)(T,{label:e.label,checked:n,disabled:i,onChange:()=>o(e.value),description:e.description,price:e.price,optionIndex:e.optionIndex})}},e.label))})}var B=n(3881),F=n.n(B),A=n(2111);function M(e){let{name:t,value:n,onChange:i,options:o}=e,a=(0,p.N2)();return(0,r.jsx)(L.Ee,{name:t,value:n,onChange:i,className:F().root,children:o.map((e,t)=>(0,r.jsx)(L.Y8,{value:e.value,disabled:e.disabled,className:F().option,children:(0,r.jsx)(A.p,{image:e.image,onClick:()=>a.setCurrentSelectedOption(t)})},e.value))})}var D=n(9684),R=n(6551),Z=n(417),q=n(2757),H=n.n(q),U=n(4347),W=n.n(U),Q=n(9521),z=n.n(Q),X=n(9382);let V=e=>{let[t,n]=(0,i.useState)(0),[r,o]=(0,i.useState)([]),a=(0,i.useCallback)(t=>{e&&e.scrollTo(t)},[e]),s=(0,i.useCallback)(e=>{o(e.scrollSnapList())},[]),l=(0,i.useCallback)(e=>{n(e.selectedScrollSnap())},[]);return(0,i.useEffect)(()=>{e&&(s(e),l(e),e.on("reInit",s).on("reInit",l).on("select",l))},[e,s,l]),{selectedIndex:t,scrollSnaps:r,onDotButtonClick:a}},Y=e=>{let{children:t,dotsSizing:n="0.6em",...i}=e;return(0,r.jsx)("button",{type:"button",style:{width:n,height:n},...i,children:t})};var J=n(6038),K=n(3976),G=n.n(K);function $(e){let{children:t,dotsPosition:n,dotsSizing:o,isOpen:a,setCurrentCarouselIndex:s}=e,l=(0,P.p)(),c=(0,p.qM)(e=>e.currentConfiguratorSection),[u,d]=(0,X.Z)({loop:!0}),m=(0,i.useRef)(null);(0,i.useEffect)(()=>{},[d]),(0,i.useEffect)(()=>{a?a&&m.current&&("Mobile"===l?J.ZP.set(m.current,{opacity:1}):J.ZP.fromTo(m.current,{opacity:0},{opacity:1,duration:.5,delay:3.15})):setTimeout(()=>_(0),810)},[a]);let{selectedIndex:h,scrollSnaps:C,onDotButtonClick:_}=V(d);return(0,i.useEffect)(()=>{s&&s(h)},[s,h]),(0,i.useEffect)(()=>{_(c)},[c]),(0,r.jsxs)("div",{className:G().carousel,ref:u,children:[(0,r.jsx)("div",{className:G().slidesContainer,children:t}),(0,r.jsx)("div",{className:G().dotsContainer,style:{bottom:"".concat("Mobile"===l?"3.5%":n||"3.5%")},children:(0,r.jsx)("div",{className:G().dots,ref:m,children:C.map((e,t)=>(0,r.jsx)(Y,{onClick:()=>_(t),className:t===h?G().selectedDot:G().dot,dotsSizing:"Mobile"===l?"0.6em":o||"0.6em"},t))})})]})}var ee=n(6500),et=n.n(ee),en=n(784);function er(e){let{isOpen:t,onClose:n,items:o}=e,a=(0,P.p)(),s=(0,i.useRef)(null),l=(0,i.useRef)(null),c=(0,i.useRef)(null),u=(0,i.useRef)([]),d=(0,i.useRef)(null),m=(0,i.useRef)(null),p=(0,i.useRef)(null),C=(0,i.useRef)(null),_=(0,i.useRef)(null),x=(0,i.useCallback)(e=>{var t,n;!e||(null===(t=u.current)||void 0===t?void 0:t.includes(e))||null===(n=u.current)||void 0===n||n.push(e)},[u]);return(0,i.useEffect)(()=>{_.current||C.current||(C.current=new(H())(m.current,{type:"words, chars"}),_.current=new(H())(p.current,{type:"words, chars"}))},[]),(0,h.V)(()=>{if(u.current&&_.current&&C.current&&("Mobile"===a&&(u.current.forEach(e=>{z().set(e,{height:"100%",width:"100%"})}),z().set(l.current,{minWidth:"100%",width:"100%"})),"Desktop"===a)){if(t){z().fromTo(s.current,{x:"50em"},{x:"0em",duration:1.35,delay:.01,ease:"power4.out"}),u.current.forEach((e,t)=>{let n=t===u.current.length-1,r=n?{height:"100%",width:"100%",duration:1.5,delay:.01,ease:W().create("custom","M0,0 C0.113,0.766 0,1 1,1")}:{height:"100%",width:"100%"};z().fromTo(e,n?{height:"0%",width:"0%"}:{height:"100%",width:"100%"},r)}),z().fromTo(l.current,{minWidth:"0%",width:"0%"},{minWidth:"62.29%",width:"62.29%",duration:.66,ease:W().create("custom","M0,0 C0.113,0.766 0,1 1,1")}),z().fromTo(d.current,{scale:0},{scale:1,duration:.5,delay:.6}),z().fromTo(c.current,{minHeight:"0em",height:"0em"},{minHeight:"4.2em",height:"4.2em",duration:.5,delay:.6});let e=(e,t)=>{e.words.forEach(e=>z().set(e,{overflow:"hidden"})),e.chars.forEach(e=>z().fromTo(e,{y:"100%"},{y:"0%",duration:.5,delay:t,ease:"linear"}))};e(_.current,1),e(C.current,.8)}else u.current.forEach(e=>{z().fromTo(e,{height:"100%",width:"100%"},{height:"60%",width:"60%",duration:.7,ease:"power4.out"})})}},{dependencies:[t]}),(0,r.jsx)($,{dotsPosition:"8.85%",dotsSizing:"0.68em",isOpen:t,children:o.map((e,t)=>(0,r.jsx)("div",{className:et().slideContainer,ref:0===t?s:null,children:(0,r.jsx)("div",{className:et().slideCover,ref:x,children:(0,r.jsxs)("div",{className:et().slide,children:[(0,r.jsxs)("div",{ref:t===o.length-1?l:null,className:et().imageContainer,children:[(0,j.EQ)(e.image.data).when(e=>e.attributes.mime.startsWith("video"),e=>(0,r.jsx)(en.O,{video:e,playsInline:!0,muted:!0,loop:!0,controls:!1,style:{objectFit:"cover"}})).when(e=>e.attributes.mime.startsWith("image"),e=>(0,r.jsx)(A.p,{image:e,style:{objectFit:"cover"}})).otherwise(()=>null),(0,r.jsxs)("div",{className:et().mobileClosureButton,onClick:n,children:[(0,r.jsx)("span",{}),(0,r.jsx)("span",{})]})]}),(0,r.jsxs)("div",{className:et().infosContainer,children:["Desktop"===a&&(0,r.jsxs)("div",{className:et().desktopClosureButton,onClick:n,ref:t===o.length-1?d:null,children:[(0,r.jsx)("span",{}),(0,r.jsx)("span",{})]}),(0,r.jsx)("div",{className:et().iconCover,children:(0,r.jsx)("div",{className:et().iconContainer,ref:t===o.length-1?c:null,children:(0,r.jsx)(A.p,{image:e.icon.data})})}),(0,r.jsx)("h1",{className:et().title,ref:t===o.length-1?m:null,children:e.title}),(0,r.jsx)("p",{className:et().content,ref:t===o.length-1?p:null,children:e.description})]})]})})},e.id))})}var ei=n(8143),eo=n.n(ei),ea=n(2978),es=n.n(ea),el=n(4818);function ec(e){let{images:t,sectionIndex:n}=e,[o,a]=(0,i.useState)(0),[s,l]=(0,i.useState)(0),c=(0,i.useRef)([]),u=(0,p.qM)(e=>e.currentSelectedOption),d=(0,p.qM)(e=>e.currentConfiguratorSection),m=(0,p.N2)(),h=(0,el.fm)(),C=(0,el.mc)(),{trimLevels:_}=(0,v.S)(),x=(0,p.RC)(),f=(0,p.dO)();return(0,i.useEffect)(()=>{0===n?a(_.findIndex(e=>e.id===x)):1===n?a(h.attributes.colors.findIndex(e=>e.color.data.id===f)):d===n&&a(u)},[h,C,f,x,u]),(0,i.useEffect)(()=>{c.current=t.map((e,t)=>{var n;return null!==(n=c.current[t])&&void 0!==n?n:i.createRef()})},[t.length]),(0,i.useEffect)(()=>{1!==t.length&&(z().set(c.current[s].current,{zIndex:"1"}),c.current[s]&&z().to(c.current[s].current,{opacity:0,duration:.5,delay:1}),c.current[o]&&z().to(c.current[o].current,{opacity:1,duration:1,onStart:()=>{z().set(c.current[o].current,{zIndex:"99"})},ease:"power3.out"}),l(o))},[o,c]),(0,i.useEffect)(()=>{let e=e=>{d===n&&0!==n&&1!==n&&(1===t.length?m.setCurrentConfiguratorSection(0):0===o?a(1):o<=t.length&&a(0))};return window.addEventListener("box-unchecked",e),()=>window.removeEventListener("box-unchecked",e)},[d,o]),(0,r.jsx)(r.Fragment,{children:t.map((e,t)=>(0,r.jsx)("div",{className:es().slide,ref:c.current[t],style:{opacity:"".concat(0===t?1:0)},children:(0,r.jsx)(A.p,{image:e.data,style:{objectFit:"cover"}})},t))})}var eu=n(1664),ed=n.n(eu),em=n(2660);function ep(e){let{sectionsImages:t,trimLevels:n,optionCategories:o}=e,a=(0,p._$)(),s=(0,p.N2)(),l=(0,i.useRef)(),c=(0,i.useRef)(),u=(0,i.useRef)(),d=(0,P.p)(),[m,C]=(0,i.useState)(0),[x,f]=(0,i.useState)([]);(0,i.useEffect)(()=>{if(!c.current||"Desktop"===d||!l.current)return;let e=()=>{let e=z().timeline({paused:!0,scrollTrigger:{start:"top top",end:"3% top",trigger:l.current,scrub:2},defaults:{ease:"linear"}});return e.fromTo(c.current,{height:"31em"},{height:"25.8em"},0),e},t=e(),n=()=>{t.kill(),t=e()};return window.addEventListener("resize",n),()=>{t.kill(),window.removeEventListener("resize",n)}},[d,l]),(0,h.V)(()=>{if("Mobile"===d)return _().create({start:"top top",onUpdate:e=>{-1===e.direction?z().to(u.current,{opacity:1,y:"0%",overwrite:!0,duration:.4}):1===e.direction&&z().to(u.current,{opacity:0,y:"-150%",overwrite:!0,duration:.4})}}),()=>_().killAll()});let g=(0,el.fm)(),v=em.a(g.attributes.options,e=>e.option.data.attributes.category.data.id),y=(0,i.useCallback)(()=>{t.length=0;let e=[],r=[];n.forEach(t=>{e.push(t.attributes.image)}),g.attributes.colors.forEach(e=>{r.push(e.color.data.attributes.sliderImage)}),t.push(e),t.push(r),o.forEach(e=>{let n=[];v[e.id].forEach(e=>{n.push(e.option.data.attributes.image)}),t.push(n)})},[o,g]);return(0,i.useEffect)(()=>{y()},[g]),(0,i.useEffect)(()=>{t&&f(t)},[t]),(0,r.jsxs)("section",{className:eo().container,ref:l,children:[(0,r.jsx)("div",{className:eo().homeButton,ref:u,onClick:()=>"configuration"!==a&&s.goToPreviousStep(),children:"configuration"===a?(0,r.jsx)(ed(),{href:"/",style:{display:"flex",alignItems:"center",justifyContent:"center"},children:(0,r.jsxs)("svg",{viewBox:"0 0 25 22",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,r.jsx)("path",{d:"M18.184 6.72867C16.5381 7.87183 14.5998 8.53698 12.5894 8.6485H12.4572C10.431 8.52934 8.47829 7.85774 6.81681 6.70862C5.53006 5.87653 3.86186 4.62338 4.00935 2.87398C4.11107 1.67095 5.43852 1.07947 6.43029 0.77871C6.84734 0.653395 7.26946 0.548128 7.6916 0.462913C10.6979 -0.118554 13.7869 -0.152531 16.8057 0.362663H16.8464C17.3092 0.447877 17.772 0.548129 18.2399 0.668432L18.6265 0.77871C19.6182 1.07947 20.9457 1.67095 21.0474 2.87398C21.2 4.62338 19.4351 5.88154 18.1484 6.72867H18.184Z",fill:"#575349"}),(0,r.jsx)("path",{d:"M5.47042 7.88106C7.38065 8.67344 9.03911 9.95821 10.2716 11.6004L10.3072 11.6505L10.3479 11.7107C11.3905 13.3398 11.6601 15.41 11.6702 17.3549C11.6702 18.8837 11.3905 21.0742 10.002 21.8061C8.92889 22.3625 7.71334 21.5955 6.91993 20.9289C6.58934 20.6532 6.26892 20.3574 5.96376 20.0517C3.82406 17.8515 2.10153 15.2914 0.877773 12.4927V12.4576C0.694677 12.0265 0.521754 11.5854 0.369174 11.1292C0.328486 11.0039 0.287808 10.8736 0.252207 10.7433C-0.0427805 9.74074 -0.256399 8.32217 0.674336 7.57529C2.05772 6.48755 4.09212 7.26451 5.49586 7.88106H5.47042Z",fill:"#575349"}),(0,r.jsx)("path",{d:"M19.5308 7.8835C17.6183 8.67447 15.9579 9.95942 14.7245 11.6029L14.689 11.653L14.6483 11.7131C13.6056 13.3422 13.3361 15.4124 13.3259 17.3573C13.3259 18.8862 13.6056 21.0767 14.9941 21.8085C16.0672 22.3649 17.2828 21.598 18.0762 20.9313C18.4068 20.6556 18.7272 20.3599 19.0324 20.0541C21.174 17.8555 22.8967 15.295 24.1184 12.4951V12.46C24.3015 12.0289 24.4744 11.5878 24.627 11.1317L24.749 10.7457C25.044 9.74318 25.2576 8.32461 24.3218 7.57773C22.9384 6.49 20.904 7.26695 19.5054 7.8835H19.5308Z",fill:"#575349"})]})}):(0,r.jsx)("svg",{viewBox:"0 0 17 14",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,r.jsx)("path",{d:"M6.93319 1L1.5 7.00008M1.5 7.00008L6.93319 13M1.5 7.00008H16.5",stroke:"#575349"})})}),(0,r.jsx)("div",{className:eo().carouselContainer,ref:c,children:(0,r.jsx)($,{setCurrentCarouselIndex:C,children:x.map((e,t)=>(0,r.jsx)("div",{className:eo().slides,children:(0,r.jsx)("div",{className:eo().slide,children:(0,r.jsx)(ec,{images:e,sectionIndex:t})})},t))})})]})}function eh(e){let{trimLevels:t,optionCategories:n,onTrimOverlayShow:o,trimOverlayCTALabel:a,onRefundOverlayShow:s,title:l,introduction:d,outro:m,sectionsImages:h}=e,C=(0,P.s)(e=>e.currentDevice),_=(0,i.useRef)(null),f=(0,p.RC)(),g=(0,p.dO)(),v=(0,p.L6)(),y=(0,p._$)(),b=(0,p.N2)(),j=(0,el.fm)(),N=(0,el.mc)(),S=em.a(j.attributes.options,e=>e.option.data.attributes.category.data.id),L=e=>{b.toggleOption(Number(e.target.value))},[E,O]=(0,i.useState)(D.Wx.None()),[B,F]=(0,i.useState)(D.Wx.None());return(0,r.jsxs)("section",{className:k().container,ref:_,children:["Mobile"===C?(0,r.jsx)(ep,{sectionsImages:h,trimLevels:t,optionCategories:n}):null,(0,r.jsx)(u,{title:l,text:d}),(0,r.jsxs)("form",{id:y,style:{marginBottom:"5.5em",display:"flex",flexDirection:"column",alignItems:"center",width:"100%"},onSubmit:e=>{e.preventDefault(),b.goToNextStep()},children:[(0,r.jsx)(x,{title:"Trim",index:0,cta:(0,r.jsx)("button",{type:"button",onClick:o,className:k().overlayCTA,children:a}),children:(0,r.jsx)(I,{name:"trimLevel",value:f,onChange:function(e){let n=t.find(t=>t.id===e);b.setTrimLevel(e);let r=n.attributes.colors.find(e=>e.default);r&&b.setColor(r.color.data.id),b.setOptions(new Set(n.attributes.options.filter(e=>e.default).map(e=>e.option.data.id)))},options:t.map((e,t)=>({label:e.attributes.label,value:e.id,optionIndex:t,description:(0,r.jsxs)(r.Fragment,{children:[e.attributes.description,e.attributes.overlay?(0,r.jsxs)(r.Fragment,{children:[" ",(0,r.jsx)("button",{type:"button",onClick:()=>F(D.Wx.Some(e.id)),style:{textDecoration:"underline"},children:e.attributes.overlay.ctaLabel})]}):null]}),price:(e.attributes.price/100).toLocaleString("en-US",{style:"currency",currency:"usd",maximumFractionDigits:0})}))})}),(0,r.jsxs)(x,{title:"Color",index:1,children:[(0,r.jsxs)("div",{className:k().currentColorInfosContainer,children:[(0,r.jsx)("h3",{children:N.color.data.attributes.name}),(0,r.jsx)("span",{children:N.default||0===N.price?"Included":(N.price/100).toLocaleString("en-US",{style:"currency",currency:"usd",minimumFractionDigits:0})})]}),(0,r.jsx)("p",{className:k().currentColorDescription,children:N.color.data.attributes.description}),(0,r.jsx)(M,{name:"color",value:g,onChange:e=>b.setColor(e),options:j.attributes.colors.map(e=>({label:e.color.data.attributes.name,description:e.color.data.attributes.description,value:e.color.data.id,price:0===e.price?"Included":(e.price/100).toLocaleString("en-US",{style:"currency",currency:"usd"}),image:e.color.data.attributes.image.data}))})]}),n.map((e,t)=>{let n=S[e.id];return(0,r.jsx)(x,{index:t+2,title:e.attributes.label,children:n.map((e,t)=>{var n,i;return(0,r.jsx)(T,{label:e.option.data.attributes.name,checked:v.has(e.option.data.id),onChange:L,value:e.option.data.id,optionIndex:t,description:(0,r.jsxs)(r.Fragment,{children:[e.option.data.attributes.description,e.option.data.attributes.overlay?(0,r.jsxs)(r.Fragment,{children:[" ",(0,r.jsx)("button",{type:"button",style:{textDecoration:"underline"},onClick:()=>O(D.Wx.Some(e.id)),children:e.option.data.attributes.overlay.ctaLabel})]}):null]}),price:0===e.option.data.attributes.price||e.default?"Included":(e.option.data.attributes.price/100).toLocaleString("en-US",{style:"currency",currency:"usd",maximumFractionDigits:0}),disabled:(n=e.option.data.id,!(null===(i=j.attributes.options.find(e=>e.option.data.id===n))||void 0===i?void 0:i.selectable))},e.id)})},e.id)}),j.attributes.options.filter(e=>e.option.data.attributes.overlay).map(e=>(0,r.jsx)(R.v,{isOpen:E.match({None:()=>!1,Some:t=>t===e.id}),onClose:()=>O(D.Wx.None()),theme:"theme2",children:(0,r.jsx)(Z.s,{isOpen:E.match({None:()=>!1,Some:t=>t===e.id}),onClose:()=>O(D.Wx.None()),title:e.option.data.attributes.overlay.title,subtitle:D.Wx.fromNullable(e.option.data.attributes.overlay.subtitle),sections:e.option.data.attributes.overlay.sections,image:e.option.data.attributes.overlay.image.data})},e.id)),t.filter(e=>e.attributes.overlay).map(e=>(0,r.jsx)(R.v,{isOpen:B.match({None:()=>!1,Some:t=>t===e.id}),onClose:()=>F(D.Wx.None()),theme:"theme1",children:(0,r.jsx)(er,{isOpen:B.match({None:()=>!1,Some:t=>t===e.id}),onClose:()=>F(D.Wx.None()),items:e.attributes.overlay.items})},e.id))]}),(0,r.jsx)("div",{className:k().productDescription,children:(0,r.jsx)(c.Z,{content:m})}),(0,r.jsx)(w,{onRefundOverlayOpen:s})]})}var eC=n(7681),e_=n.n(eC);function ex(e){let{title:t,onRefundOverlayShow:n,onDeliveryOverlayShow:i,deliveryCTALabel:o}=e,a=(0,P.p)(),s=(0,p.N2)(),l=(0,p._$)(),c=(0,el.y$)(),u=(0,el.yF)();return(0,r.jsxs)("main",{className:e_().summaryContainer,children:["Mobile"===a&&(0,r.jsx)("div",{className:e_().previousButton,onClick:()=>s.goToPreviousStep(),children:(0,r.jsx)("svg",{viewBox:"0 0 17 14",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,r.jsx)("path",{d:"M6.93319 1L1.5 7.00008M1.5 7.00008L6.93319 13M1.5 7.00008H16.5",stroke:"#575349"})})}),(0,r.jsxs)("section",{className:e_().titleContainer,children:[(0,r.jsxs)("svg",{viewBox:"0 0 25 22",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,r.jsx)("path",{d:"M18.184 6.72867C16.5381 7.87183 14.5998 8.53698 12.5894 8.6485H12.4572C10.431 8.52934 8.47832 7.85774 6.81684 6.70862C5.53009 5.87653 3.86189 4.62338 4.00938 2.87398C4.1111 1.67095 5.43855 1.07947 6.43032 0.77871C6.84737 0.653395 7.26949 0.548128 7.69163 0.462913C10.698 -0.118554 13.787 -0.152531 16.8057 0.362663H16.8464C17.3092 0.447877 17.772 0.548129 18.24 0.668432L18.6265 0.77871C19.6183 1.07947 20.9457 1.67095 21.0474 2.87398C21.2 4.62338 19.4352 5.88154 18.1484 6.72867H18.184Z",fill:"#575349"}),(0,r.jsx)("path",{d:"M5.47045 7.8813C7.38068 8.67369 9.03914 9.95846 10.2716 11.6007L10.3072 11.6508L10.3479 11.7109C11.3905 13.34 11.6601 15.4102 11.6703 17.3551C11.6703 18.884 11.3905 21.0745 10.0021 21.8063C8.92892 22.3627 7.71337 21.5958 6.91996 20.9291C6.58937 20.6534 6.26895 20.3577 5.96379 20.0519C3.82409 17.8518 2.10156 15.2917 0.877803 12.4929V12.4578C0.694708 12.0267 0.521784 11.5856 0.369205 11.1295C0.328517 11.0042 0.287839 10.8738 0.252237 10.7435C-0.04275 9.74098 -0.256368 8.32241 0.674367 7.57553C2.05775 6.4878 4.09215 7.26475 5.49589 7.8813H5.47045Z",fill:"#575349"}),(0,r.jsx)("path",{d:"M19.5308 7.88326C17.6184 8.67422 15.9579 9.95918 14.7246 11.6026L14.689 11.6527L14.6483 11.7129C13.6057 13.342 13.3361 15.4122 13.3259 17.3571C13.3259 18.8859 13.6057 21.0764 14.9941 21.8083C16.0673 22.3647 17.2828 21.5977 18.0762 20.9311C18.4068 20.6554 18.7272 20.3596 19.0324 20.0539C21.174 17.8552 22.8968 15.2948 24.1184 12.4949V12.4598C24.3015 12.0287 24.4744 11.5876 24.627 11.1314L24.7491 10.7455C25.044 9.74294 25.2577 8.32437 24.3218 7.57749C22.9385 6.48975 20.9041 7.26671 19.5054 7.88326H19.5308Z",fill:"#575349"})]}),(0,r.jsx)("h1",{children:t})]}),(0,r.jsxs)("section",{className:e_().summary,children:[(0,r.jsxs)("h3",{children:["Total Price \xb7 $",(c/100).toLocaleString("en-US")]}),(0,r.jsxs)("a",{className:e_().forecastQuarter,onClick:i,children:[(0,r.jsx)("span",{children:"i"})," ",(0,r.jsx)("span",{children:o})]}),(0,r.jsx)("span",{className:e_().separateLine}),(0,r.jsx)("ul",{className:e_().optionsList,children:u.map(e=>(0,r.jsxs)("li",{children:[(0,r.jsx)("span",{style:{textDecoration:e.price<0?"line-through":"none"},children:e.label}),(0,r.jsx)("span",{children:(0,j.EQ)(e.price).when(e=>0===e,()=>"Included").otherwise(e=>"".concat(e>0?"+":"").concat((e/100).toLocaleString("en-US")))})]},e.label))})]}),(0,r.jsx)("form",{id:l,onSubmit:e=>{e.preventDefault(),s.goToNextStep()}}),(0,r.jsx)(w,{onRefundOverlayOpen:n})]})}var ef=n(2139),eg=n.n(ef);function ev(){let e=(0,i.useRef)(null),t=(0,i.useRef)(null),n=(0,i.useRef)(null),o=(0,i.useRef)(null),[a,s]=(0,i.useState)(0),[l,c]=(0,i.useState)(0),[u,d]=(0,i.useState)(!1),m=(0,el.yF)();return(0,i.useEffect)(()=>{if(!n.current||!t.current)return;let r=()=>{J.ZP.set(e.current,{height:n.current.offsetHeight+"px"}),d(!1),s(n.current.offsetHeight),c(n.current.offsetHeight+t.current.offsetHeight)},i=new MutationObserver(()=>r());return i.observe(t.current,{childList:!0,subtree:!0}),window.addEventListener("resize",r),r(),()=>{i.disconnect(),window.removeEventListener("resize",r)}},[e,t]),(0,i.useEffect)(()=>{if(!e.current||!t.current||!o.current)return;let n=u?l:a;J.ZP.to(e.current,{height:"".concat(n,"px"),duration:.4}),J.ZP.to(t.current,{opacity:u?1:0,y:u?"0%":"10%",duration:.4}),J.ZP.to(o.current,{width:u?"0em":"1em",duration:.2,ease:"linear"})},[u,a,l]),(0,r.jsxs)("section",{className:eg().expandableSummaryContainer,ref:e,children:[(0,r.jsxs)("div",{ref:n,className:eg().fixedContent,onClick:()=>d(!u),children:[(0,r.jsx)("h2",{children:"Summary"}),(0,r.jsxs)("div",{children:[(0,r.jsx)("span",{ref:o}),(0,r.jsx)("span",{})]})]}),(0,r.jsx)("ul",{className:eg().optionsList,ref:t,style:{top:"".concat(a,"px")},children:m.map(e=>(0,r.jsxs)("li",{children:[(0,r.jsx)("span",{style:{textDecoration:e.price<0?"line-through":"none"},children:e.label}),(0,r.jsx)("span",{children:(0,j.EQ)(e.price).when(e=>0===e,()=>"Included").otherwise(e=>"".concat(e>0?"+":"").concat((e/100).toLocaleString("en-US")))})]},e.label))})]})}var ey=n(631),eb=n(184),ej=n.n(eb);function eN(e){let{title:t,emailField:n,phoneField:i,countryField:o,lastNameField:a,firstNameField:s}=e,{customerAccount:l}=(0,v.S)(),c=(0,p.N2)(),u=(0,p.qM)(e=>e.firstName),d=(0,p.qM)(e=>e.lastName),m=(0,p.qM)(e=>e.email),h=(0,p.qM)(e=>e.country),C=(0,p.qM)(e=>e.phone);return(0,r.jsxs)("section",{className:ej().contactFormContainer,children:[(0,r.jsx)("h2",{children:t}),(0,r.jsxs)("div",{className:ej().inputNamesContainer,children:[(0,r.jsx)("input",{type:"text",name:"firstName","aria-label":s.label,placeholder:s.placeholder.getOr(s.label),required:!0,value:u,readOnly:null!==l,onChange:e=>c.setFirstName(e.target.value)}),(0,r.jsx)("input",{type:"text",name:"lastName","aria-label":a.label,placeholder:a.placeholder.getOr(a.label),required:!0,value:d,readOnly:null!==l,onChange:e=>c.setLastName(e.target.value)})]}),(0,r.jsx)("input",{type:"email",name:"email","aria-label":n.label,placeholder:n.placeholder.getOr(n.label),required:!0,value:m,readOnly:null!==l,onChange:e=>c.setEmail(e.target.value)}),(0,r.jsx)("div",{style:{fontSize:"1.1em"},children:(0,r.jsx)(ey.Z,{label:o.label,options:[{label:"United States (+1)",value:"+1"}],variant:"no-margins",onChange:e=>c.setCountry(e.target.value),value:h,readOnly:null!==l})}),(0,r.jsx)("input",{className:ej().phoneInput,type:"tel",name:"phone","aria-label":i.label,placeholder:i.placeholder.getOr(i.label),required:!0,value:C,readOnly:null!==l,onChange:e=>c.setPhone(e.target.value)})]})}var ew=n(8142),eS=n.n(ew),ek=n(5638),eP=n.n(ek),eL=n(3594),eE=n(9516),eO=n(7621),eT=n(5389);function eI(e){let{name:t,error:n=D.Wx.None()}=e,{page:{termsLabel:i}}=(0,v.S)();return(0,r.jsx)("div",{className:eP().termsSectionContainer,children:(0,r.jsxs)(eL.g,{className:"grid gap-4",children:[n.match({None:()=>null,Some:e=>(0,r.jsx)(eE.dk,{className:"text-14 text-[red]",children:e})}),(0,r.jsxs)("div",{className:eP().selectorAndTextContainer,children:[(0,r.jsx)(eO.X,{name:t,className:eP().selector,"aria-required":!0,children:e=>{let{checked:t}=e;return(0,r.jsx)("span",{style:{opacity:t?1:0}})}}),(0,r.jsx)("div",{className:eP().selectorText,children:(0,r.jsx)(eT.__,{children:(0,r.jsx)("div",{onClick:e=>{"A"===e.target.tagName&&(e.stopPropagation(),e.preventDefault())},children:(0,r.jsx)(c.Z,{content:i,blocks:{link:e=>{let{url:t,children:n}=e;return(0,r.jsx)(ed(),{href:t,target:"_blank",onClick:()=>window.open(t),children:n})}}})})})})]})]})})}var eB=n(2859),eF=n(6935),eA=n(7446);let eM=(0,eF.D)({publicPrefix:"NEXT_PUBLIC_",schema:{public:{NEXT_PUBLIC_STRIPE_PUBLISHABLE_KEY:eA.Z_8(),NEXT_PUBLIC_SITE_URL:eA.Z_8()}},values:{NEXT_PUBLIC_STRIPE_PUBLISHABLE_KEY:"pk_live_51NxzwrBgcFARCOz6AYyp2prrpl4hapuxXbQzERJNLisEiOPMuEATuIWk2D0Kwtd4AmSOpRbI1aQsUefAR9qPIWwI00iBPGE6QO",NEXT_PUBLIC_SITE_URL:"https://pebblelife.com"}});var eD=n(6664),eR=n(7066),eZ=n(3299);function eq(e){let{onSubmit:t,onDone:n}=e,{page:{paymentSection:o}}=(0,v.S)(),a=(0,p.qM)(e=>e.firstName),s=(0,p.qM)(e=>e.lastName),l=(0,p.qM)(e=>e.email),c=(0,p.qM)(e=>e.country),u=(0,p.qM)(e=>e.phone),d=(0,p.qM)(e=>e.billingAddress),m=(0,p.qM)(e=>e.billingCity),h=(0,p.qM)(e=>e.billingState),C=(0,p.qM)(e=>e.billingZipCode),[_,x]=(0,i.useState)(D.jw.NotAsked()),f=(0,eZ.useSession)(),g=(0,el.fm)(),y=(0,el.mc)(),b=(0,el.D2)(),j=(0,el.y$)();return(0,i.useEffect)(()=>{if(x(D.jw.Loading()),"loading"!==f.status){var e;(e={configuration:{trimLevel:g.attributes.uid,color:y.color.data.attributes.uid,options:b.map(e=>e.uid).filter(Boolean)},amount:j,customer:"authenticated"===f.status?f.data.user.netsuiteId:{firstName:a,lastName:s,email:l,country:c,phone:u,address:{address:d,state:h,city:m,zipcode:C}}},D.ol.fromPromise(eR.default.post("".concat(eM.NEXT_PUBLIC_SITE_URL,"/api/create-payment-intent"),e))).mapOk(e=>e.data.clientSecret).tapError(e=>console.error(e)).mapError(()=>Error()).onResolve(e=>x(D.jw.Done(e)))}},[f.status]),(0,r.jsxs)("section",{className:eS().paymentFormContainer,children:[(0,r.jsx)("h2",{children:o.title}),_.match({NotAsked:()=>(0,r.jsx)("p",{children:"Loading..."}),Loading:()=>(0,r.jsx)("p",{children:"Loading..."}),Done:e=>e.match({Ok:e=>(0,r.jsx)(eD.Elements,{stripe:eH,options:{clientSecret:e,locale:"en",appearance:{theme:"stripe"}},children:(0,r.jsx)(eU,{onSubmit:t,onDone:n})}),Error:()=>(0,r.jsx)("p",{children:"Error while creating payment intent. Please try again."})})})]})}let eH=(0,eB.J)(eM.NEXT_PUBLIC_STRIPE_PUBLISHABLE_KEY);function eU(e){let{onSubmit:t,onDone:n}=e,o=(0,eD.useStripe)(),a=(0,eD.useElements)(),[s,l]=(0,i.useState)(D.jw.NotAsked()),c=(0,p.qM)(e=>e.firstName),u=(0,p.qM)(e=>e.lastName),d=(0,p.qM)(e=>e.phone),m=(0,p.qM)(e=>e.billingAddress),h=(0,p.qM)(e=>e.billingCity),C=(0,p.qM)(e=>e.billingState),_=(0,p.qM)(e=>e.billingZipCode),x=async e=>{if(e.preventDefault(),t(),l(D.jw.Loading()),!o||!a)return;let r=new FormData(e.currentTarget),i=[];if(r.get("terms")||i.push({path:"terms",message:"Please review the terms"}),i.length>0){l(D.jw.Done(D.x4.Error(new eW(i)))),n();return}let{error:s}=await o.confirmPayment({elements:a,confirmParams:{shipping:{name:"".concat(c," ").concat(u),phone:d,address:{line1:m,city:h,state:C,postal_code:_,country:"US"}},return_url:"".concat(eM.NEXT_PUBLIC_SITE_URL,"/build/payment-confirmation")}});l(D.jw.Done(D.x4.Error(s))),n()};return(0,r.jsxs)("form",{id:"payment",onSubmit:x,children:[s.match({Done:e=>e.match({Error:e=>(0,r.jsx)("p",{className:"text-14 text-[red] mb-5",children:(0,j.EQ)(e).with(j.P.instanceOf(eW),()=>"Please check errors").otherwise(e=>{var t;return null!==(t=e.message)&&void 0!==t?t:"An error occured"})}),Ok:()=>null}),NotAsked:()=>null,Loading:()=>null}),(0,r.jsx)(eD.PaymentElement,{id:"payment-element",options:{layout:"accordion"}}),(0,r.jsx)("div",{style:{marginBlockStart:"4em"},children:(0,r.jsx)(eI,{name:"terms",error:s.match({Loading:()=>D.Wx.None(),NotAsked:()=>D.Wx.None(),Done:e=>e.match({Ok:()=>D.Wx.None(),Error:e=>(0,j.EQ)(e).with(j.P.instanceOf(eW),e=>{var t;return D.Wx.fromNullable(null===(t=e.violations.find(e=>"terms"===e.path))||void 0===t?void 0:t.message)}).otherwise(()=>D.Wx.None())})})})})]})}class eW extends Error{constructor(e){super(""),this.name="FormViolationsError",this.violations=e}}var eQ=n(8684),ez=n.n(eQ),eX=n(8264);function eV(){let{page:{pickupPointSection:e,pickupPointAddress:t,pickupPointLabel:n,pickupPointMapsURL:i,pickupPointMapImage:o,pickupPointPhoto:a,pickupPointPhoneNumber:s}}=(0,v.S)(),{title:l,description:c}=e,u=(0,P.p)();return(0,r.jsxs)("section",{className:ez().pickupPointContainer,children:[(0,r.jsx)("h2",{children:l}),c?(0,r.jsx)("h3",{children:c}):null,(0,r.jsx)("div",{className:ez().mapContainer,style:{backgroundImage:"url(".concat(eX.$N(o.data.attributes.url),")")},children:(0,r.jsxs)("div",{className:ez().infosContainer,children:[(0,r.jsx)("div",{className:ez().image,style:{backgroundImage:"url(".concat(eX.$N(a.data.attributes.url),")")}}),(0,r.jsxs)("div",{className:ez().infos,children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("span",{children:n}),(0,r.jsx)("a",{href:i,children:(0,r.jsx)("svg",{viewBox:"0 0 12 9",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,r.jsx)("path",{d:"M0.5 4.50684H10.5M10.5 4.50684L6.71053 0.506836M10.5 4.50684L6.71053 8.50684",stroke:"#FE814B"})})})]}),"Mobile"===u&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("a",{className:ez().numberCTA,href:"tel:".concat(s),children:s}),(0,r.jsx)("a",{className:ez().addressCTA,href:i,children:t})]}),"Desktop"===u&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("a",{className:ez().addressCTA,href:i,children:t}),(0,r.jsx)("a",{className:ez().numberCTA,href:"tel:".concat(s),children:s})]})]})]})})]})}var eY=n(3471),eJ=n.n(eY);function eK(){let{page:{addressField:e,cityField:t,stateField:n,zipcodeField:i},customerAccount:o}=(0,v.S)();(0,eZ.useSession)();let a=(0,p.N2)(),s=(0,p.qM)(e=>e.billingAddress),l=(0,p.qM)(e=>e.billingCity),c=(0,p.qM)(e=>e.billingState),u=(0,p.qM)(e=>e.billingZipCode);return(0,r.jsxs)("section",{className:eJ().billingSectionContainer,children:[(0,r.jsx)("h2",{children:"Billing address"}),(0,r.jsxs)("div",{className:eJ().content,children:[(0,r.jsx)("input",{type:"text",name:"address",placeholder:e.label,required:!0,value:s,readOnly:null!==o,onChange:e=>a.setBillingAddress(e.target.value)}),(0,r.jsx)("input",{type:"text",name:"city",placeholder:t.label,required:!0,value:l,readOnly:null!==o,onChange:e=>a.setBillingCity(e.target.value)}),(0,r.jsxs)("div",{className:eJ().inputStateZipCodeContainer,children:[(0,r.jsx)("input",{type:"text",name:"state",placeholder:n.label,required:!0,value:c,readOnly:null!==o,onChange:e=>a.setBillingState(e.target.value)}),(0,r.jsx)("input",{type:"text",name:"zipCode",placeholder:i.label,required:!0,value:u,readOnly:null!==o,onChange:e=>a.setBillingZipCode(e.target.value),minLength:5,maxLength:5})]})]})]})}var eG=n(7205),e$=n.n(eG),e0=n(1163);function e1(e){let{onRefundOverlayOpen:t,onDeliveryOverlayOpen:n,deliveryCTALabel:o,title:a}=e,s=(0,P.p)(),l=(0,p.N2)(),c=(0,p._$)(),[u,d]=(0,i.useState)(D.jw.NotAsked());return(0,r.jsxs)("main",{className:e$().checkoutContainer,children:["Mobile"===s&&(0,r.jsx)("div",{className:e$().previousButton,onClick:()=>l.goToPreviousStep(),children:(0,r.jsx)("svg",{viewBox:"0 0 17 14",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,r.jsx)("path",{d:"M6.93319 1L1.5 7.00008M1.5 7.00008L6.93319 13M1.5 7.00008H16.5",stroke:"#575349"})})}),(0,r.jsxs)("section",{className:e$().titleContainer,style:{marginBottom:(0,j.EQ)([c,s]).with(["customer-infos","Mobile"],()=>"5em").with(["customer-infos","Desktop"],()=>"6.8em").otherwise(()=>"3.2em")},children:[(0,r.jsxs)("svg",{viewBox:"0 0 25 22",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,r.jsx)("path",{d:"M18.184 6.72867C16.5381 7.87183 14.5998 8.53698 12.5894 8.6485H12.4572C10.431 8.52934 8.47832 7.85774 6.81684 6.70862C5.53009 5.87653 3.86189 4.62338 4.00938 2.87398C4.1111 1.67095 5.43855 1.07947 6.43032 0.77871C6.84737 0.653395 7.26949 0.548128 7.69163 0.462913C10.698 -0.118554 13.787 -0.152531 16.8057 0.362663H16.8464C17.3092 0.447877 17.772 0.548129 18.24 0.668432L18.6265 0.77871C19.6183 1.07947 20.9457 1.67095 21.0474 2.87398C21.2 4.62338 19.4352 5.88154 18.1484 6.72867H18.184Z",fill:"#575349"}),(0,r.jsx)("path",{d:"M5.47045 7.8813C7.38068 8.67369 9.03914 9.95846 10.2716 11.6007L10.3072 11.6508L10.3479 11.7109C11.3905 13.34 11.6601 15.4102 11.6703 17.3551C11.6703 18.884 11.3905 21.0745 10.0021 21.8063C8.92892 22.3627 7.71337 21.5958 6.91996 20.9291C6.58937 20.6534 6.26895 20.3577 5.96379 20.0519C3.82409 17.8518 2.10156 15.2917 0.877803 12.4929V12.4578C0.694708 12.0267 0.521784 11.5856 0.369205 11.1295C0.328517 11.0042 0.287839 10.8738 0.252237 10.7435C-0.04275 9.74098 -0.256368 8.32241 0.674367 7.57553C2.05775 6.4878 4.09215 7.26475 5.49589 7.8813H5.47045Z",fill:"#575349"}),(0,r.jsx)("path",{d:"M19.5308 7.88326C17.6184 8.67422 15.9579 9.95918 14.7246 11.6026L14.689 11.6527L14.6483 11.7129C13.6057 13.342 13.3361 15.4122 13.3259 17.3571C13.3259 18.8859 13.6057 21.0764 14.9941 21.8083C16.0673 22.3647 17.2828 21.5977 18.0762 20.9311C18.4068 20.6554 18.7272 20.3596 19.0324 20.0539C21.174 17.8552 22.8968 15.2948 24.1184 12.4949V12.4598C24.3015 12.0287 24.4744 11.5876 24.627 11.1314L24.7491 10.7455C25.044 9.74294 25.2577 8.32437 24.3218 7.57749C22.9385 6.48975 20.9041 7.26671 19.5054 7.88326H19.5308Z",fill:"#575349"})]}),(0,r.jsx)("h1",{children:a})]}),(0,r.jsx)(ev,{}),(0,r.jsxs)("section",{className:e$().deliveryTimingContainer,children:[(0,r.jsxs)("div",{className:e$().deliveryTimingTextContainer,children:[(0,r.jsx)("span",{children:"Delivery timing"}),(0,r.jsx)("span",{children:o})]}),(0,r.jsx)("button",{className:e$().deliveryTimingCTA,onClick:n,children:"i"})]}),(0,r.jsxs)("section",{className:e$().fullyRefundableDepositContainer,children:[(0,r.jsxs)("div",{className:e$().fullyRefundableDepositTextContainer,children:[(0,r.jsx)("span",{children:"Fully refundable deposit"}),(0,r.jsx)("span",{children:"$500"})]}),(0,r.jsx)("button",{className:e$().fullyRefundableDepositCTA,onClick:t,children:"i"})]}),(0,j.EQ)(c).with("customer-infos",()=>(0,r.jsx)(e2,{onLegacySubmit:()=>d(D.jw.Loading())})).with("payment",()=>(0,r.jsx)(eq,{onSubmit:()=>d(D.jw.Loading()),onDone:()=>d(D.jw.Done(!0))})).otherwise(()=>null),(0,r.jsx)(w,{onRefundOverlayOpen:t,isLoading:u.isLoading()})]})}function e2(e){let{onLegacySubmit:t}=e,{page:n,customerAccount:i}=(0,v.S)(),o=(0,p.N2)(),a=(0,e0.useRouter)(),s=(0,eZ.useSession)(),l=(0,el.fm)(),c=(0,el.mc)(),u=(0,el.D2)(),d=async e=>{if(e.preventDefault(),i){if(i.attributes.legacy&&!i.attributes.completedLegacyFlow){t();let e=(await D.ol.fromPromise(eR.default.post("/api/legacy-order",{trimLevel:Number(l.attributes.uid),color:c.color.data.attributes.uid,options:u.map(e=>e.uid).filter(Boolean)}))).match({Ok:()=>"succeeded",Error:()=>"error"});a.push("/build/payment-confirmation?redirect_status=".concat(e))}else o.goToNextStep();return}let n=new FormData(e.currentTarget),r=await D.ol.fromPromise(eR.default.get("".concat(eM.NEXT_PUBLIC_SITE_URL,"/api/check-customer-account"),{params:new URLSearchParams([["email",n.get("email").toString()]])}));if(r.isError()){console.error("[preorder/index] Error while checkout customer account",r.getError());return}(0,j.EQ)(r.get().data).with({account:!1,legacy:!1},()=>o.goToNextStep()).with({account:!0,legacy:!1},()=>a.push("/log-in?return_path=/build")).with({account:!0,legacy:!0},()=>a.push("/log-in?return_path=/build")).with({account:!1,legacy:!0},()=>a.push("/build/legacy")).exhaustive()};return(0,j.EQ)(s).with({status:"loading"},()=>(0,r.jsx)("p",{children:"Loading..."})).otherwise(()=>(0,r.jsxs)("form",{id:"customer-infos",style:{width:"90%"},onSubmit:d,children:[(0,r.jsx)(eN,{title:n.contactSection.title,emailField:{...n.emailField,placeholder:D.Wx.fromNullable(n.emailField.placeholder)},firstNameField:{...n.firstNameField,placeholder:D.Wx.fromNullable(n.firstNameField.placeholder)},lastNameField:{...n.lastNameField,placeholder:D.Wx.fromNullable(n.lastNameField.placeholder)},countryField:{...n.countryField,placeholder:D.Wx.fromNullable(n.countryField.placeholder)},phoneField:{...n.phoneField,placeholder:D.Wx.fromNullable(n.phoneField.placeholder)}}),(0,r.jsx)(eV,{}),(0,r.jsx)(eK,{})]}))}var e7=n(3973),e8=n(782),e5=n(2527),e4=n(775),e6=n(3341),e3=!0;function e9(e){let{trimLevels:t,optionCategories:n,page:o,customerAccount:a}=e;return(0,i.useEffect)(()=>{0!==window.scrollY&&window.scrollTo({top:0})},[]),(0,r.jsxs)(r.Fragment,{children:[o.seo?(0,r.jsx)(e4.Z,{data:o.seo}):null,(0,r.jsx)(tt,{trimLevels:t,optionCategories:n,page:o,customerAccount:a})]})}let te=[];function tt(e){let{trimLevels:t,optionCategories:n,page:o,customerAccount:s}=e,[l]=(0,i.useState)(()=>{var e,n,r,i,o,a,l,c,u,d,m;let[p]=t;return m={trimLevel:p.id,color:null===(e=p.attributes.colors.find(e=>e.default))||void 0===e?void 0:e.color.data.id,options:new Set(p.attributes.options.filter(e=>e.default).map(e=>e.option.data.id)),billingZipCode:null!==(n=null==s?void 0:s.attributes.zipcode)&&void 0!==n?n:"",billingState:null!==(r=null==s?void 0:s.attributes.state)&&void 0!==r?r:"",billingCity:null!==(i=null==s?void 0:s.attributes.city)&&void 0!==i?i:"",billingAddress:null!==(o=null==s?void 0:s.attributes.address)&&void 0!==o?o:"",phone:null!==(a=null==s?void 0:s.attributes.phone)&&void 0!==a?a:"",email:null!==(l=null==s?void 0:s.attributes.email)&&void 0!==l?l:"",lastName:null!==(c=null==s?void 0:s.attributes.lastName)&&void 0!==c?c:"",firstName:null!==(u=null==s?void 0:s.attributes.firstName)&&void 0!==u?u:"",country:null!==(d=null==s?void 0:s.attributes.country)&&void 0!==d?d:"",step:"configuration",currentConfiguratorSection:0,currentSelectedOption:0},(0,e7.M)()((0,e8.tJ)(e=>({...m,actions:{setTrimLevel:t=>e({trimLevel:t}),setColor:t=>e({color:t}),setOptions:t=>e({options:t}),toggleOption:t=>e(e=>{let n=new Set(e.options);return n.has(t)?n.delete(t):n.add(t),{options:n}}),goToNextStep:()=>e(e=>({step:(0,j.EQ)(e.step).with("configuration",()=>"summary").with("summary",()=>"customer-infos").with("customer-infos",()=>"payment").with("payment",()=>"payment").exhaustive()})),goToPreviousStep:()=>e(e=>({step:(0,j.EQ)(e.step).with("configuration",()=>"configuration").with("summary",()=>"configuration").with("customer-infos",()=>"summary").with("payment",()=>"customer-infos").exhaustive()})),setBillingZipCode:t=>e({billingZipCode:t}),setBillingAddress:t=>e({billingAddress:t}),setBillingState:t=>e({billingState:t}),setBillingCity:t=>e({billingCity:t}),setPhone:t=>e({phone:t}),setCountry:t=>e({country:t}),setEmail:t=>e({email:t}),setLastName:t=>e({lastName:t}),setFirstName:t=>e({firstName:t}),setCurrentConfiguratorSection:t=>e({currentConfiguratorSection:t}),setCurrentSelectedOption:t=>e({currentSelectedOption:t})}}),{name:"preorder-state",partialize:e=>e5.a(e,["actions"]),storage:{getItem(e){let t=sessionStorage.getItem(e);if(!t)return null;let n=JSON.parse(t);return{...n,state:{...n.state,options:new Set(n.state.options)}}},setItem(e,t){let n=JSON.stringify({...t,state:{...t.state,options:Array.from(t.state.options)}});return sessionStorage.setItem(e,n)},removeItem:e=>sessionStorage.removeItem(e)}}))}),c=(0,P.p)(),[u,d]=(0,i.useState)(!1),[m,h]=(0,i.useState)(!1),[C,_]=(0,i.useState)(!1),x=(0,e6.o)(l,e=>e.step),f=(0,e6.o)(l,e=>e.actions);return(0,i.useLayoutEffect)(()=>{null!==s&&(f.setEmail(s.attributes.email),f.setPhone(s.attributes.phone),f.setCountry(s.attributes.country),f.setLastName(s.attributes.lastname),f.setFirstName(s.attributes.firstname),f.setBillingCity(s.attributes.city),f.setBillingState(s.attributes.state),f.setBillingAddress(s.attributes.address),f.setBillingZipCode(s.attributes.zipcode))},[f,s]),(0,r.jsx)(p.HN,{store:l,children:(0,r.jsxs)(v.P,{trimLevels:t,optionCategories:n,page:o,customerAccount:s,children:[(0,r.jsxs)("main",{className:a().preOrderContainer,style:{lineHeight:"normal",fontSize:"16px"},children:["Desktop"===c?(0,r.jsx)(ep,{sectionsImages:te,trimLevels:t,optionCategories:n}):null,(0,j.EQ)(x).with("configuration",()=>(0,r.jsx)(eh,{title:o.configuratorTitle,introduction:D.Wx.fromNullable(o.configuratorIntro),outro:o.configuratorOutro,trimLevels:t,optionCategories:n,onTrimOverlayShow:()=>d(!0),trimOverlayCTALabel:o.trimOverlay.ctaLabel,onRefundOverlayShow:()=>h(!0),sectionsImages:te})).with("summary",()=>(0,r.jsx)(ex,{title:o.summaryTitle,onRefundOverlayShow:()=>h(!0),onDeliveryOverlayShow:()=>_(!0),deliveryCTALabel:o.deliveryOverlay.ctaLabel})).with(j.P.union("customer-infos","payment"),()=>(0,r.jsx)(e1,{onRefundOverlayOpen:()=>h(!0),onDeliveryOverlayOpen:()=>_(!0),deliveryCTALabel:o.deliveryOverlay.ctaLabel,title:o.checkoutTitle})).exhaustive()]}),(0,r.jsx)(R.v,{isOpen:u,theme:"theme2",onClose:()=>d(!1),children:(0,r.jsx)(Z.s,{isOpen:u,onClose:()=>d(!1),title:o.trimOverlay.title,subtitle:D.Wx.fromNullable(o.trimOverlay.subtitle),sections:o.trimOverlay.sections,image:o.trimOverlay.image.data})}),(0,r.jsx)(R.v,{isOpen:m,theme:"theme2",onClose:()=>h(!1),children:(0,r.jsx)(Z.s,{isOpen:m,onClose:()=>h(!1),title:o.refundOverlay.title,subtitle:D.Wx.fromNullable(o.refundOverlay.subtitle),sections:o.refundOverlay.sections,image:o.refundOverlay.image.data})}),(0,r.jsx)(R.v,{isOpen:C,theme:"theme2",onClose:()=>_(!1),children:(0,r.jsx)(Z.s,{isOpen:C,onClose:()=>_(!1),title:o.deliveryOverlay.title,subtitle:D.Wx.fromNullable(o.deliveryOverlay.subtitle),sections:o.deliveryOverlay.sections,image:o.deliveryOverlay.image.data})})]})})}},3976:function(e){e.exports={carousel:"Carousel_carousel__cxmDM",slidesContainer:"Carousel_slidesContainer__Qrtdp",dotsContainer:"Carousel_dotsContainer__FQo_n",dots:"Carousel_dots__WqlaT",dot:"Carousel_dot__u_2ZE",selectedDot:"Carousel_selectedDot__Go240"}},3881:function(e){e.exports={root:"ColorRadioGroup_root__7fEUD",option:"ColorRadioGroup_option__o_9Zx"}},3589:function(e){e.exports={container:"ConfigurationSection_container__Ha22G",titleContainer:"ConfigurationSection_titleContainer__McrPj",cta:"ConfigurationSection_cta__29N4q",colorSectionsContainer:"ConfigurationSection_colorSectionsContainer__UKEPY",currentColorInfosContainer:"ConfigurationSection_currentColorInfosContainer__cvRGA",colorOptionsContainer:"ConfigurationSection_colorOptionsContainer__Aka_k"}},6898:function(e){e.exports={container:"CustomerPortalCheckbox_container__6ZJCy",checkbox:"CustomerPortalCheckbox_checkbox__aCu6K",mainCheckbox:"CustomerPortalCheckbox_mainCheckbox__NWjgP",checkboxContainer:"CustomerPortalCheckbox_checkboxContainer__5xlaP",label:"CustomerPortalCheckbox_label__UGrCp",price:"CustomerPortalCheckbox_price__YTeiM",description:"CustomerPortalCheckbox_description__8irAA",overlayContainer:"CustomerPortalCheckbox_overlayContainer__mWijy"}},2978:function(e){e.exports={container:"ImageCarousel_container__lGR9_",carouselContainer:"ImageCarousel_carouselContainer__J5GvY",slides:"ImageCarousel_slides__HbgZx",slide:"ImageCarousel_slide__qKUCR",colorImg:"ImageCarousel_colorImg__4LiJt",homeButton:"ImageCarousel_homeButton__jlQA9"}},6500:function(e){e.exports={slideContainer:"CarouselOverlay_slideContainer__LWsUg",slideCover:"CarouselOverlay_slideCover__vs8xK",slide:"CarouselOverlay_slide__tYSJ6",imageContainer:"CarouselOverlay_imageContainer__dQKZF",mobileClosureButton:"CarouselOverlay_mobileClosureButton__KcnBy",infosContainer:"CarouselOverlay_infosContainer__zCxX_",iconCover:"CarouselOverlay_iconCover__Rzioe",iconContainer:"CarouselOverlay_iconContainer__l2Psx",title:"CarouselOverlay_title__peKq4",content:"CarouselOverlay_content__xNM25",desktopClosureButton:"CarouselOverlay_desktopClosureButton__9xyw_"}},3471:function(e){e.exports={billingSectionContainer:"Billing_billingSectionContainer__hXUmi",content:"Billing_content__2kP1o",inputStateZipCodeContainer:"Billing_inputStateZipCodeContainer__dmnBO"}},7205:function(e){e.exports={checkoutContainer:"Checkout_checkoutContainer__tvRyd",previousButton:"Checkout_previousButton__JjulB",titleContainer:"Checkout_titleContainer__CZwNe",deliveryTimingContainer:"Checkout_deliveryTimingContainer__6pcxJ",deliveryTimingTextContainer:"Checkout_deliveryTimingTextContainer___CL8L",deliveryTimingCTA:"Checkout_deliveryTimingCTA__n_1TQ",fullyRefundableDepositContainer:"Checkout_fullyRefundableDepositContainer__IJEvf",fullyRefundableDepositTextContainer:"Checkout_fullyRefundableDepositTextContainer__NIsDc",fullyRefundableDepositCTA:"Checkout_fullyRefundableDepositCTA__I5JD1",overlayContainer:"Checkout_overlayContainer__BTLbt"}},184:function(e){e.exports={contactFormContainer:"ContactForm_contactFormContainer__OT8Wc",inputNamesContainer:"ContactForm_inputNamesContainer__N4Kb0",phoneInput:"ContactForm_phoneInput__z2fLP"}},2139:function(e){e.exports={expandableSummaryContainer:"ExpandableSummary_expandableSummaryContainer__3Dy1r",fixedContent:"ExpandableSummary_fixedContent__bWAfy",optionsList:"ExpandableSummary_optionsList__z0F8c"}},8142:function(e){e.exports={paymentFormContainer:"PaymentForm_paymentFormContainer__PXDrs",paymentForm:"PaymentForm_paymentForm__liVRG",creditCardContainer:"PaymentForm_creditCardContainer__M8RiZ",applePayContainer:"PaymentForm_applePayContainer__xa0Jt",selectorAndTextContainer:"PaymentForm_selectorAndTextContainer__yT4__",selector:"PaymentForm_selector__49loG",creditCardTitle:"PaymentForm_creditCardTitle__6uxg6",creditCardForm:"PaymentForm_creditCardForm__o7ofT",inputsContainer:"PaymentForm_inputsContainer__zuIA5",dateAndCodeInputsContainer:"PaymentForm_dateAndCodeInputsContainer__egNaC",cardNumberContainer:"PaymentForm_cardNumberContainer__KLKep",cardNumberInputOverlay:"PaymentForm_cardNumberInputOverlay__hQAUD",cardNumberTitle:"PaymentForm_cardNumberTitle__IjvXn",numbersFieldsContainer:"PaymentForm_numbersFieldsContainer__U3KQh",blinkCaret:"PaymentForm_blinkCaret__8NdyR",blink:"PaymentForm_blink__UWgka"}},8684:function(e){e.exports={pickupPointContainer:"PickupPoint_pickupPointContainer__X1LNU",mapContainer:"PickupPoint_mapContainer__5ZRaA",infosContainer:"PickupPoint_infosContainer__QMEFm",image:"PickupPoint_image__aChr4",infos:"PickupPoint_infos__VahaE",numberCTA:"PickupPoint_numberCTA__WK34i",addressCTA:"PickupPoint_addressCTA__PeIiO"}},5638:function(e){e.exports={termsSectionContainer:"Terms_termsSectionContainer__X4Dc_",selectorAndTextContainer:"Terms_selectorAndTextContainer__pcrnN",selector:"Terms_selector__cn4aw",selectorText:"Terms_selectorText__KNvE4"}},5684:function(e){e.exports={container:"Configurator_container__ZkAKC",overlayCTA:"Configurator_overlayCTA__FYeJH",productDescription:"Configurator_productDescription__mCsqH",currentColorInfosContainer:"Configurator_currentColorInfosContainer__WZJll",currentColorDescription:"Configurator_currentColorDescription__CFaND"}},2592:function(e){e.exports={container:"Introduction_container__VtJX_"}},7681:function(e){e.exports={summaryContainer:"Summary_summaryContainer__9s_yc",previousButton:"Summary_previousButton__Jd6ye",titleContainer:"Summary_titleContainer__NhY3H",summary:"Summary_summary__crtTb",forecastQuarter:"Summary_forecastQuarter__m4VZ4",separateLine:"Summary_separateLine__YhJeq",optionsList:"Summary_optionsList___tYY1",paymentInfosContainer:"Summary_paymentInfosContainer__pA2AD",paymentInfosButtonContainer:"Summary_paymentInfosButtonContainer__4SufB",monthlyPaymentContainer:"Summary_monthlyPaymentContainer__2_8kf",depositContainer:"Summary_depositContainer__A_5z1",overlayContainer:"Summary_overlayContainer__GYqE6"}},8143:function(e){e.exports={container:"PreOrderImageCarousel_container__uhFg9",carouselContainer:"PreOrderImageCarousel_carouselContainer__BpvCG",homeButton:"PreOrderImageCarousel_homeButton__YUmo0",slides:"PreOrderImageCarousel_slides__ECyBi",slide:"PreOrderImageCarousel_slide__TXagO"}},9999:function(e){e.exports={buttonsContainer:"Button_buttonsContainer__mreC4",estPaymentButton:"Button_estPaymentButton__HXf9_",checkoutAndOrderButtonContainer:"Button_checkoutAndOrderButtonContainer__NIfoq",checkoutAndOrderButton:"Button_checkoutAndOrderButton__7VA_F"}},7613:function(e){e.exports={container:"PriceBar_container__Po9aP",infosContainer:"PriceBar_infosContainer__nf1ie",infosProd:"PriceBar_infosProd__jt0_e",infoDeliveryCTA:"PriceBar_infoDeliveryCTA__degOt",price:"PriceBar_price__Ssj27"}},9706:function(e){e.exports={preOrderContainer:"PreOrder_preOrderContainer__YYRwg",paymentConfirmationContainer:"PreOrder_paymentConfirmationContainer__9H0_C",confirmationContainer:"PreOrder_confirmationContainer__EQKVG",contactCTA:"PreOrder_contactCTA__7r2U2",socialMediaContainer:"PreOrder_socialMediaContainer__Qtfxm",circle:"PreOrder_circle__ngAr3"}}},function(e){e.O(0,[6098,4858,6366,225,5531,9032,2888,9774,179],function(){return e(e.s=4907)}),_N_E=e.O()}]);